async function getProduct(){const id=new URLSearchParams(location.search).get('id');const cfg=await (await fetch('config.json')).json();const res=await fetch(cfg.appsScriptUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({kind:'get-products','X-Auth':cfg.xAuthToken})});const items=(await res.json()).data||[];const p=items.find(i=>String(i.id)===String(id))||items[0];const el=document.getElementById('product');el.innerHTML=`<div><h2>${p.name}</h2><p class="price">${p.price}</p><p>${p.summary}</p><div style="display:flex;gap:8px;margin-top:8px"><a class="btn" href="#" onclick="payfastCheckout('${p.id}','${p.name}','${p.price}')">Buy via PayFast</a><a class="btn secondary" href="#">Free Trial</a></div></div><div><img src="${p.image}" alt="${p.name}"></div>`}function payfastCheckout(id,name,price){alert(`PayFast placeholder: ${name} (${id}) â€” ${price}`)}getProduct();