document.getElementById('contactForm').addEventListener('submit',async(e)=>{e.preventDefault();const form=e.target;const data=Object.fromEntries(new FormData(form).entries());document.getElementById('status').textContent='Sendingâ€¦';try{const cfg=await (await fetch('config.json')).json();const res=await fetch(cfg.appsScriptUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({kind:'contact','X-Auth':cfg.xAuthToken,data})});if(res.ok){document.getElementById('status').textContent='Sent! Check your inbox.';form.reset()}else{throw new Error('HTTP '+res.status)}}catch(err){document.getElementById('status').textContent='Failed to send. Please try again later.';console.error(err)}});