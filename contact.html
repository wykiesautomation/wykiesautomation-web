
<!-- Contact/Order Form (In-App, no external email client) -->
<section id="contact" class="contact-section">
  <h2>Contact / Order</h2>
  <p>Tell us what you need and we’ll get back to you shortly.</p>

  <form id="contactForm" novalidate>
    <div class="row">
      <label>Full Name*</label>
      <input type="text" name="name" required placeholder="Name & Surname">
    </div>

    <div class="row two">
      <div>
        <label>Email*</label>
        <input type="email" name="email" required placeholder="you@example.com">
      </div>
      <div>
        <label>Phone / WhatsApp</label>
        <input type="tel" name="phone" placeholder="+27 71 681 6131">
      </div>
    </div>

    <div class="row">
      <label>Request Type*</label>
      <select name="requestType" required>
        <option value="">Select</option>
        <option>Pre-Order</option>
        <option>Purchase</option>
        <option>Support</option>
        <option>Installation</option>
        <option>Quote</option>
        <option>Other</option>
      </select>
    </div>

    <div class="row">
      <label>Product</label>
      <select name="product">
        <option value="">(Not sure / General)</option>
        <option>WA-01 – Basic Gate/ Garage Opener (GSM)</option>
        <option>WA-02 – Gate/ Garage Opener (ESP32 Wi‑Fi/Bluetooth)</option>
        <option>WA-03 – Hybrid Universal Gate Controller</option>
        <option>WA-04 – 3D Printer GUI (Prototype)</option>
        <option>WA-05 – Plasma Cutter GUI</option>
        <option>WA-06 – 16‑Channel ESP32 Alarm</option>
        <option>WA-07 – 12‑Channel Hybrid Wi‑Fi+GSM Alarm</option>
        <option>WA-08 – Van Wyk ECU/TCU GUI</option>
        <option>WA-09 – Hybrid Gate Control (Wi‑Fi↔GSM Fallback)</option>
        <option>WA-10 – Towing/Install Service</option>
        <option>WA-11 – Other (Specify below)</option>
      </select>
    </div>

    <div class="row">
      <label>Details / Procedure Needed*</label>
      <textarea name="message" required rows="6"
        placeholder="Describe what you want done (e.g., site location, gate motor type, preferred date/time, access instructions, etc.)"></textarea>
    </div>

    <!-- Optional: simple consent -->
    <div class="row">
      <label>
        <input type="checkbox" name="consent" required>
        I consent to be contacted about my request.
      </label>
    </div>

    <button type="submit" id="submitBtn">Send</button>
    <p id="formStatus" aria-live="polite" style="margin-top:10px;"></p>
  </form>
</section>

<style>
  .contact-section { max-width: 720px; margin: 0 auto; padding: 1rem;}
  .row { display:flex; flex-direction:column; gap:.4rem; margin-bottom: .9rem;}
  .row.two { gap:1rem; }
  .row.two > div { flex:1; }
  @media (min-width:720px){ .row.two { flex-direction:row; } }
  input, select, textarea { padding:.7rem; border:1px solid #d0d6e0; border-radius:6px; font-size:14px; }
  button { background:#0a57ff; color:#fff; border:none; padding:.8rem 1.2rem; border-radius:6px; cursor:pointer; }
  button[disabled]{ opacity:.6; cursor:wait; }
</style>

<script>
  const SCRIPT_URL = 'REPLACE_WITH_YOUR_DEPLOYED_APPS_SCRIPT_WEB_APP_URL';

  const form = document.getElementById('contactForm');
  const statusEl = document.getElementById('formStatus');
  const submitBtn = document.getElementById('submitBtn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    statusEl.textContent = '';
    if (!form.checkValidity()) {
      statusEl.textContent = 'Please complete all required fields.';
      statusEl.style.color = '#b00020';
      return;
    }

    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending…';

    const data = Object.fromEntries(new FormData(form).entries());

    try {
      const res = await fetch(SCRIPT_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        mode: 'no-cors', // if script is deployed with "Anyone" access; switch to CORS+JSON if protected
        body: JSON.stringify(data)
      });

      // With no-cors, we assume success on network OK:
      statusEl.textContent = 'Thanks! Your message has been sent. We’ll reply shortly.';
      statusEl.style.color = '#0a7a3d';
      form.reset();
    } catch (err) {
      console.error(err);
      statusEl.textContent = 'Could not send right now. Please try again or WhatsApp us.';
      statusEl.style.color = '#b00020';
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Send';
    }
  });
</script>
